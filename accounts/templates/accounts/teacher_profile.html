{% extends 'base.html' %}

{% block content %}
<div class="max-w-2xl mx-auto bg-gray-50 p-8 rounded-lg shadow-lg mt-12">
  <h2 class="text-4xl font-extrabold text-gray-900 mb-6">My Profile</h2>

  <div class="flex items-center mb-8">
    {% if profile.profile_picture %}
      <img 
        src="{{ profile.profile_picture.url }}" 
        alt="Profile Picture" 
        class="w-32 h-32 rounded-full object-cover border-4 border-purple-600"
      >
    {% else %}
      <div class="w-32 h-32 flex items-center justify-center rounded-full bg-gray-300 text-purple-600 font-semibold border-4 border-purple-600">
        No Image
      </div>
    {% endif %}
  </div>

  <div class="space-y-4 text-gray-800 text-lg">
    <p><strong class="text-gray-900">Name:</strong> {{ request.user.first_name }} {{ request.user.last_name }}</p>
    <p><strong class="text-gray-900">Username:</strong> {{ request.user.username }}</p>
    <p><strong class="text-gray-900">Email:</strong> {{ request.user.email }}</p>
    <p><strong class="text-gray-900">Bio:</strong> {{ profile.bio|default:"No bio yet." }}</p>
    <p><strong class="text-gray-900">Date of Birth:</strong> {{ profile.date_of_birth|date:"F j, Y" }}</p>

    {% if profile.is_private %}
      <p><strong class="text-gray-900">Teacher Type:</strong> Private</p>
    {% else %}
      <p><strong class="text-gray-900">Institute:</strong> {{ profile.institute.name }}</p>
    {% endif %}
  </div>

  <div class="mt-10 flex space-x-6">
    <a href="{% url 'edit_teacher_profile' %}" 
       class="px-7 py-3 bg-purple-600 text-white font-semibold rounded-md shadow hover:bg-purple-700 transition duration-300"
    >
      Edit Profile
    </a>
    <a href="{% url 'teacher_password_change' %}" 
       class="px-7 py-3 bg-gray-600 text-white font-semibold rounded-md shadow hover:bg-gray-700 transition duration-300"
    >
      Change Password
    </a>
  </div>

  <form method="POST" action="{% url 'logout' %}" class="mt-10">
    {% csrf_token %}
    <button 
      type="submit" 
      class="w-full px-6 py-3 bg-red-700 text-white rounded-md font-semibold hover:bg-red-800 transition duration-300 shadow"
    >
      Logout
    </button>
  </form>
</div>
{% endblock %}
